<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>INTP today - ë“¤ì–´ê°€ê¸° ì „ì—...</title>
  <style>
    body { margin: 0 auto; padding: 60px 30px; font-family: -apple-system, BlinkMacSystemFont, 'Noto Sans KR', sans-serif; background: #ffffff; color: #111; max-width: 700px; line-height: 1.6; }
    h1 { font-size: 26px; font-weight: 600; margin-bottom: 40px; }
    label { display: block; margin-top: 36px; font-weight: 500; font-size: 15px; }
    label::after { content: "*"; color: red; margin-left: 4px; }
    textarea { width: 100%; height: 140px; margin-top: 8px; padding: 10px; border: 1px solid #ddd; font-family: inherit; font-size: 14px; resize: vertical; box-sizing: border-box; }
    input[type="text"] { width: 100%; padding: 10px; margin-top: 8px; border: 1px solid #ddd; font-size: 14px; font-family: inherit; box-sizing: border-box; }
    button { margin-top: 32px; padding: 12px 22px; border: 1px solid #333; background: #fff; font-size: 14px; cursor: pointer; transition: background 0.2s; }
    button:hover{ background: #fafafa; }
    .notice { color: #d9534f; font-size: 14px; margin-top: 15px; font-weight: 600; padding: 10px; border: 1px solid #d9534f; background-color: #fcf8f2; }
    #result { margin-top: 20px; font-size: 15px; font-weight: 500; }
  </style>
</head>
<body>

  <h1>INTP.today</h1>
  <p>INTP todayì˜ ì…ì¥ì— ì•ì„œ ê°„ë‹¨í•œ ì§ˆë¬¸ì— ë‹µí•´ ì£¼ì‹­ì‹œì˜¤.<br>
  ì‚¬ì‹¤ ì‚¬ì´íŠ¸ ìì²´ëŠ” ì—„ì²­ í—ˆì ‘í•˜ë‹ˆ ì•„ë¬´ê²ƒë„ ê¸°ëŒ€í•˜ì‹œë©´ ì•ˆë©ë‹ˆë‹¤...</p>

  <div class="notice">
    âš ï¸ **ì£¼ì˜: ì´ ë‹µë³€ì€ ì œì¶œê³¼ ë™ì‹œì— ê²Œì‹œë¬¼ë¡œ ìë™ ì—…ë¡œë“œë©ë‹ˆë‹¤.**
  </div>

  <label>
    Q. ë‹¹ì‹ ì€ ì¤‘ëŒ€í•œ ìš°ì£¼ì˜ ë¹„ë°€ì— ëŒ€í•´ 6ê°œì›”ê°„ ê³ ì‹¬í•œ ëì— ì™„ë²½í•œ ë…¼ë¦¬ì  ì„¤ëª…ì„ ë°œê²¬í•´ëƒˆìŠµë‹ˆë‹¤. ì´ ìœ„ëŒ€í•œ ë°œê²¬ì„ ìš°ì£¼ì— ëŒ€í•œ ì´í•´ë„ê°€ ë‚®ì€ ì• ì¸ì—ê²Œ 5ë¶„ ì•ˆì— ë°œí‘œí•´ì•¼ í•©ë‹ˆë‹¤.<br>
    ë‹¹ì‹ ì€ ì–´ë–»ê²Œ ë°œí‘œë¥¼ ì¤€ë¹„í• ê¹Œìš”? (ìµœì†Œ 50ì ì´ìƒ)
    <textarea id="answer" required></textarea>
  </label>

  <label>
    INTP Todayì—ì„œ ì‚¬ìš©í•  ë‹‰ë„¤ì„
    <input type="text" id="nickname" placeholder="ë‹‰ë„¤ì„ ì…ë ¥" required>
  </label>

  <button onclick="submitForm()">ë‹µë³€ ì œì¶œí•˜ë©° ì‹œë„ëŸ½ê²Œ ë“±ì¥í•˜ê¸°</button>

  <div id="result"></div>

<script>
function submitForm() {
    const nickname = document.getElementById("nickname").value.trim();
    const answer = document.getElementById("answer").value.trim();
    const resultDiv = document.getElementById("result");

    // ğŸ’¡ ì œí•œ í‚¤ì›Œë“œ ëª©ë¡
    const restrictedNames = ["ìš´ì˜ì", "ê´€ë¦¬ì", "admin", "tester", "test", "administrator"];

    if (!answer || answer.length < 50) {Â 
        resultDiv.style.color = "red";
        resultDiv.innerHTML = "ë‹µë³€ì€ ìµœì†Œ 50ì ì´ìƒ!";
        return;
    }
    if (!nickname) {
        resultDiv.style.color = "red";
        resultDiv.innerHTML = "ë‹‰ë„¤ì„ì„ ì™œ ì•ˆ ì ëŠ”ê°€ ìë„¤";
        return;
    }

    // ğŸ’¡ ë‹‰ë„¤ì„ ì œí•œ ê²€ì‚¬
    const isRestricted = restrictedNames.some(keyword => nickname.toLowerCase().includes(keyword.toLowerCase()));
    
    // ê´€ë¦¬ì ì ‘ì† ì¡°ê±´ì„ ì œì™¸í•˜ê³  ì œí•œ
    if (isRestricted && (nickname !== "ê´€ë¦¬ì" || answer !== "ë‚˜ëŠ”ì•„ì´ì—”í‹°í”¼íˆ¬ë°ì´ì˜ëŒ€ì¥ì´ë‹¤")) {
        resultDiv.style.color = "red";
        resultDiv.innerHTML = "í•´ë‹¹ ë‹‰ë„¤ì„ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ì´ë¦„ì„ ì„ íƒí•´ ì£¼ì‹­ì‹œì˜¤.";
        return;
    }

    // ğŸ’¡ ê´€ë¦¬ì í‚¤ì›Œë“œ ë° ë‹‰ë„¤ì„ ì„¤ì •
    const adminKeyword = "ë‚˜ëŠ”INTPì˜ì‹ ";
    const adminNickname = "ê´€ë¦¬ì";
    
    let finalNickname = nickname;
    let postContent = answer;
    
    // ğŸ’¡ ê´€ë¦¬ì ì ‘ì† ì¡°ê±´ í™•ì¸ ë° ë°ì´í„° ì²˜ë¦¬
    if (answer.trim() === adminKeyword && nickname.trim() === adminNickname) {
        localStorage.setItem("isAdminMode", "true");
        finalNickname = adminNickname;
        postContent = "INTP today ê´€ë¦¬ìê°€ ë“±ì¥í–ˆìŠµë‹ˆë‹¤."; // ê´€ë¦¬ì ê²Œì‹œê¸€ ë‚´ìš© ë³€ê²½
        resultDiv.innerHTML = `**ê´€ë¦¬ì ëª¨ë“œ**ë¡œ ì ‘ì†í•©ë‹ˆë‹¤. ì ì‹œ í›„ ì…ì¥í•©ë‹ˆë‹¤...`;
    } else {
        localStorage.removeItem("isAdminMode"); // ì¼ë°˜ ì ‘ì† ì‹œ í”Œë˜ê·¸ ì œê±°
        resultDiv.style.color = "green";
        resultDiv.innerHTML = `${nickname}ë‹˜ì˜ ë‹µë³€ ì—…ë¡œë“œ ì¤‘(ëŒì´í‚¬ ìˆ˜ ì—†ìŒ). ì ì‹œ í›„ ì…ì¥í•©ë‹ˆë‹¤...`;
    }

    // 1. ë‹‰ë„¤ì„ê³¼ ë‹µë³€ ë‚´ìš©ì„ ë¡œì»¬ ì €ì¥ì†Œì— ì €ì¥ (ì»¤ë®¤ë‹ˆí‹° í˜ì´ì§€ë¡œ ì „ë‹¬)
    localStorage.setItem("nickname", finalNickname);Â 
    localStorage.setItem("newPostContent", postContent);Â 
    
    // 2. ì¦‰ì‹œ ì»¤ë®¤ë‹ˆí‹° í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜
    setTimeout(() => {
        window.location.href = "community.html";Â 
    }, 1000);Â 
}
</script>

</body>
</html>
